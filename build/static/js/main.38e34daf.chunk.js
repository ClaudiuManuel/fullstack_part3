(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),u=t(15),i=t.n(u),o=(t(6),t(3)),a=t(4),s=t.n(a),l=t(0),d=function(e){return Object(l.jsxs)("div",{children:["filter shown with: ",Object(l.jsx)("input",{value:e.value,onChange:e.handler})]})},j=function(e){return Object(l.jsxs)("form",{onSubmit:e.submit,children:[Object(l.jsxs)("div",{children:["name: ",Object(l.jsx)("input",{value:e.firstValue,onChange:e.firstHandler})]}),Object(l.jsxs)("div",{children:["number: ",Object(l.jsx)("input",{value:e.secondValue,onChange:e.secondHandler})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})},b=function(e){var n=e.person,t=e.deletePerson;return Object(l.jsxs)("li",{children:[n.name," ",n.number,Object(l.jsx)("button",{onClick:t,children:"delete"})]})},f="api/persons",h=function(){return s.a.get(f).then((function(e){return e.data}))},O=function(e){return s.a.post(f,e).then((function(e){return e.data}))},m=function(e){return s.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},x=function(e){var n=e.persons,t=e.filterWord,c=e.deleteFunction;return Object(l.jsx)("ul",{children:n.map((function(e){return e.name.includes(t)?Object(l.jsx)(b,{person:e,deletePerson:function(){return c(e.id)}},e.name):""}))})},v=function(e){var n=e.message;return null===n?null:Object(l.jsx)("div",{className:"message",children:n})},p=function(){var e=Object(c.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],u=Object(c.useState)(""),i=Object(o.a)(u,2),a=i[0],s=i[1],b=Object(c.useState)(""),f=Object(o.a)(b,2),p=f[0],g=f[1],S=Object(c.useState)(""),k=Object(o.a)(S,2),w=k[0],C=k[1],F=Object(c.useState)("Message here..."),P=Object(o.a)(F,2),H=P[0],V=P[1];Object(c.useEffect)((function(){h().then((function(e){r(e)}))}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(v,{message:H}),Object(l.jsx)(d,{handler:function(e){C(e.target.value)},value:w}),Object(l.jsx)("h2",{children:"add a new"}),Object(l.jsx)(j,{submit:function(e){if(e.preventDefault(),t.map((function(e){return e.name})).includes(a))alert("".concat(a," is already added to phonebook"));else{var n={name:a,number:p,id:t.length};console.log(n),O(n).then((function(e){r(t.concat(e)),V("Added ".concat(n.name)),setTimeout((function(){V(null)}),5e3),s(""),g("")}))}},firstValue:a,firstHandler:function(e){s(e.target.value)},secondValue:p,secondHandler:function(e){g(e.target.value)}}),Object(l.jsx)("h2",{children:"Numbers"}),Object(l.jsx)(x,{persons:t,filterWord:w,deleteFunction:function(e){var n=t.find((function(n){return n.id===e}));console.log(n.name),window.confirm("Delete ".concat(n.name,"?"))&&m(e).then(r(t.filter((function(n){return n.id!==e}))))}})]})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,u=n.getLCP,i=n.getTTFB;t(e),c(e),r(e),u(e),i(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root")),g()},6:function(e,n,t){}},[[39,1,2]]]);
//# sourceMappingURL=main.38e34daf.chunk.js.map