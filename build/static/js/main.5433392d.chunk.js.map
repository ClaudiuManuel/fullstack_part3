{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","props","value","onChange","handler","PersonForm","onSubmit","submit","firstValue","firstHandler","secondValue","secondHandler","type","Person","person","deletePerson","name","number","onClick","Persons","persons","filterWord","deleteFunction","map","currentPerson","includes","id","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","deleteFromDb","delete","update","put","Notification","messageInfo","console","log","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchedElement","setSearchedElement","setMessageInfo","useEffect","initialPersons","event","target","preventDefault","personObject","personPosition","findIndex","foundPerson","updatedPerson","setTimeout","catch","error","returnedPerson","concat","personToBeDeletedName","find","window","confirm","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5433392d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n  return (\n    <div>\n        filter shown with: <input \n                value={props.value}\n                onChange={props.handler}\n            />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.submit}>\n        <div>\n          name: <input \n                  value={props.firstValue}\n                  onChange={props.firstHandler}\n                />\n        </div>\n        <div>\n          number: <input\n                  value={props.secondValue} \n                  onChange={props.secondHandler}\n                />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person,deletePerson }) => {\n  return (\n    <li>{person.name} {person.number}\n        <button onClick={deletePerson}>delete</button>\n    </li>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from \"./Person\"\n\nconst Persons = ({ persons,filterWord,deleteFunction }) => {\n  return (\n    <ul>\n      {persons.map(currentPerson =>{\n          if(currentPerson.name.includes(filterWord)) \n            return <Person key={currentPerson.name} person={currentPerson} deletePerson={() => deleteFunction(currentPerson.id)} />\n          else\n            return \"\"\n        }\n      )}\n    </ul>\n  )\n}\n\nexport default Persons","import axios from \"axios\";\nconst baseUrl = \"api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deleteFromDb = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst personService = { getAll, create, deleteFromDb, update };\n\nexport default personService;\n","import React from \"react\";\n\nconst Notification = ({ messageInfo }) => {\n  if (messageInfo === null) {\n    return null;\n  }\n  console.log('message', messageInfo.message)\n\n  return (\n    <div\n      className={`${\n        messageInfo.type === \"error\" ? \"errorMessage\" : \"notificationMessage\"\n      } generalMessage`}\n    >\n      {messageInfo.message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchedElement, setSearchedElement] = useState(\"\");\n  const [messageInfo, setMessageInfo] = useState({\n    message: \"Message here...\",\n    type: \"notification\",\n  });\n  // const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addName = (event) => {\n    event.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const personPosition = persons.findIndex(\n      (person) => person.name === newName\n    );\n\n    if (personPosition !== -1) {\n      const foundPerson = persons[personPosition];\n      personService\n        .update(foundPerson.id, personObject)\n        .then((updatedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.name === newName ? { ...updatedPerson } : person\n            )\n          );\n          setMessageInfo({\n            message: `Updated ${personObject.name}`,\n            type: \"notification\",\n          });\n          setTimeout(() => {\n            setMessageInfo(null);\n          }, 5000);\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => setMessageInfo({ message: error.response.data.error, type: \"error\" }));\n    } else {\n      personService\n        .create(personObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setMessageInfo({\n            message: `Added ${personObject.name}`,\n            type: \"notification\",\n          });\n          setTimeout(() => {\n            setMessageInfo(null);\n          }, 5000);\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => setMessageInfo({ message: error.response.data.error, type: \"error\" }));\n    }\n  };\n\n  const deletePerson = (id) => {\n    const personToBeDeletedName = persons.find(\n      (currentPerson) => currentPerson.id === id\n    );\n    console.log(personToBeDeletedName.name);\n    if (window.confirm(`Delete ${personToBeDeletedName.name}?`)) {\n      personService\n        .deleteFromDb(id)\n        .then(\n          setPersons(persons.filter((currentPerson) => currentPerson.id !== id))\n        );\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchElement = (event) => {\n    setSearchedElement(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification messageInfo={messageInfo} />\n      <Filter handler={handleSearchElement} value={searchedElement}></Filter>\n      <h2>add a new</h2>\n      <PersonForm\n        submit={addName}\n        firstValue={newName}\n        firstHandler={handleNameChange}\n        secondValue={newNumber}\n        secondHandler={handleNumberChange}\n      ></PersonForm>\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filterWord={searchedElement}\n        deleteFunction={deletePerson}\n      ></Persons>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}